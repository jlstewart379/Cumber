<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Cumber
  
    &mdash; Documentation by YARD 0.8.7.3
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (C)</a> &raquo;
    
    
    <span class="title">Cumber</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Cumber
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="Cumber/Device.html" title="Cumber::Device (class)">Device</a></span>, <span class='object_link'><a href="Cumber/Element.html" title="Cumber::Element (class)">Element</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/cumber.rb<span class="defines">,<br />
  lib/cumber/table.rb,<br /> lib/cumber/alert.rb,<br /> lib/cumber/picker.rb,<br /> lib/cumber/device.rb,<br /> lib/cumber/button.rb,<br /> lib/cumber/element.rb,<br /> lib/cumber/popover.rb,<br /> lib/cumber/keyboard.rb,<br /> lib/cumber/text_field.rb,<br /> lib/cumber/table_cell.rb,<br /> lib/cumber/response_helper.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Cumber is an automated testing tool that bridges the gap between cucumber
tests and the Apple automated testing tools UI Automation provided with
XCode and Instruments.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Cumber/Alert.html" title="Cumber::Alert (class)">Alert</a></span>, <span class='object_link'><a href="Cumber/Button.html" title="Cumber::Button (class)">Button</a></span>, <span class='object_link'><a href="Cumber/Device.html" title="Cumber::Device (class)">Device</a></span>, <span class='object_link'><a href="Cumber/Element.html" title="Cumber::Element (class)">Element</a></span>, <span class='object_link'><a href="Cumber/Keyboard.html" title="Cumber::Keyboard (class)">Keyboard</a></span>, <span class='object_link'><a href="Cumber/Picker.html" title="Cumber::Picker (class)">Picker</a></span>, <span class='object_link'><a href="Cumber/Popover.html" title="Cumber::Popover (class)">Popover</a></span>, <span class='object_link'><a href="Cumber/ResponseHelper.html" title="Cumber::ResponseHelper (class)">ResponseHelper</a></span>, <span class='object_link'><a href="Cumber/Table.html" title="Cumber::Table (class)">Table</a></span>, <span class='object_link'><a href="Cumber/TableCell.html" title="Cumber::TableCell (class)">TableCell</a></span>, <span class='object_link'><a href="Cumber/TextField.html" title="Cumber::TextField (class)">TextField</a></span>
    
  
</p>







  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#execute_step-class_method" title="execute_step (class method)">+ (Object) <strong>execute_step</strong>(step) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates an instance of a Cumber Element to use as a base to query UI
Automation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format_command-class_method" title="format_command (class method)">+ (Object) <strong>format_command</strong>(command, status) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Formats the string query that will be sent to UI Automation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_run-class_method" title="new_run (class method)">+ (Object) <strong>new_run</strong>(udid, target) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Closes the app and prepares the tablet for the next scenario.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse_response-class_method" title="parse_response (class method)">+ (Object) <strong>parse_response</strong>(response) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parses through the response from send_command and returns the portion of
the resulting value of the executed ruby command.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#path_to_driver-class_method" title="path_to_driver (class method)">+ (Object) <strong>path_to_driver</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the path to the Cumber instruments driver file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_command-class_method" title="send_command (class method)">+ (Object) <strong>send_command</strong>(command, status) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Formats and sends the string query to UI Automation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start-class_method" title="start (class method)">+ (Object) <strong>start</strong>(debug = false) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Starts the Cumber Server.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start_instruments-class_method" title="start_instruments (class method)">+ (Object) <strong>start_instruments</strong>(udid, target) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Starts instruments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stop-class_method" title="stop (class method)">+ (Object) <strong>stop</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Stops the Cumber Server and the current instruments run.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stop_instruments-class_method" title="stop_instruments (class method)">+ (Object) <strong>stop_instruments</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Stops instruments before starting a new run.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stop_server-class_method" title="stop_server (class method)">+ (Object) <strong>stop_server</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Stops the Cumber Server .</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#strip_special_chars-class_method" title="strip_special_chars (class method)">+ (Object) <strong>strip_special_chars</strong>(command) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Replaces special characters in the string query with modified HTML codes
for the characters '&amp;', '[', ']', '"', ' ', 'and ''.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="execute_step-class_method">
  
    + (<tt>Object</tt>) <strong>execute_step</strong>(step) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates an instance of a Cumber Element to use as a base to query UI
Automation.</p>

<h4>Parameters</h4>
<ul><li>
<p><tt>step</tt> - A string that represents the javascript call to execute in
UI Automation.</p>
</li></ul>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='const'>Cumber</span><span class='period'>.</span><span class='id identifier rubyid_execute_step'>execute_step</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>target.mainWindow.size()</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; returns the result of the command</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cumber.rb', line 28</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_execute_step'>execute_step</span><span class='lparen'>(</span><span class='id identifier rubyid_step'>step</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_send_command'>send_command</span><span class='lparen'>(</span><span class='id identifier rubyid_step'>step</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>run</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_response'>parse_response</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_response'>response</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format_command-class_method">
  
    + (<tt>Object</tt>) <strong>format_command</strong>(command, status) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Formats the string query that will be sent to UI Automation.</p>

<h4>Parameters</h4>
<ul><li>
<p><tt>command</tt> - The string query to send to UI Automation.</p>
</li></ul>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='const'>Cumber</span><span class='period'>.</span><span class='id identifier rubyid_format_command'>format_command</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>frontApp.keyboard().typeString(&quot;password&quot;)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; returns '{&quot;message&quot;:&quot;target.frontMostApp().keyboard().typeString(&amp;34;password&amp;34;);&quot;}'</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cumber.rb', line 87</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_format_command'>format_command</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{&quot;message&quot;:&quot;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_strip_special_chars'>strip_special_chars</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot;, &quot;status&quot;:&quot;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot;}</span><span class='tstring_end'>'</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_run-class_method">
  
    + (<tt>Object</tt>) <strong>new_run</strong>(udid, target) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Closes the app and prepares the tablet for the next scenario. Stops
instruments, cleans up the trace file and reloads instruments in a new
thread.</p>

<h4>Parameters</h4>
<ul><li>
<p><tt>udid</tt> - The unique identifier of the iOS Device to run tests
against.</p>
</li><li>
<p><tt>target</tt> - The name of the app to launch when cumber starts.</p>
</li></ul>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby">#Place in your hooks.rb file.

Before() do
  Cumber.new_run(23123sasd12321313..., Cumber-Test)
end</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


177
178
179
180
181
182
183
184
185
186</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cumber.rb', line 177</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_new_run'>new_run</span><span class='lparen'>(</span><span class='id identifier rubyid_udid'>udid</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_stop_instruments'>stop_instruments</span>
  <span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>rm -rf ./bin/ins.trace</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_start_instruments'>start_instruments</span><span class='lparen'>(</span><span class='id identifier rubyid_udid'>udid</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse_response-class_method">
  
    + (<tt>Object</tt>) <strong>parse_response</strong>(response) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Parses through the response from send_command and returns the portion of
the resulting value of the executed ruby command.</p>

<h4>Parameters</h4>
<ul><li>
<p><tt>response</tt> - The json response from UI Automation.</p>
</li></ul>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='const'>Cumber</span><span class='period'>.</span><span class='id identifier rubyid_parse_response'>parse_response</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{&quot;message&quot;:&quot;test&quot;}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; returns 'test'</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cumber.rb', line 47</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parse_response'>parse_response</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response_json'>response_json</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response_json'>response_json</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="path_to_driver-class_method">
  
    + (<tt>Object</tt>) <strong>path_to_driver</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the path to the Cumber instruments driver file. &lt;br&gt;</p>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='const'>Cumber</span><span class='period'>.</span><span class='id identifier rubyid_path_to_driver'>path_to_driver</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


227
228
229</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cumber.rb', line 227</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_to_driver'>path_to_driver</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='kw'>__FILE__</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>cumber/driver</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="send_command-class_method">
  
    + (<tt>Object</tt>) <strong>send_command</strong>(command, status) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Formats and sends the string query to UI Automation. and returns the
response</p>

<h4>Parameters</h4>
<ul><li>
<p><tt>command</tt> - The string query to send to UI Automation.</p>
</li></ul>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='const'>Cumber</span><span class='period'>.</span><span class='id identifier rubyid_send_command'>send_command</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>frontApp.keyboard().typeString(&quot;password&quot;)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; returns '{&quot;message&quot;:&quot;response&quot;}'</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65
66
67
68
69
70
71
72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cumber.rb', line 63</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send_command'>send_command</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/cumber</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id identifier rubyid_initheader'>initheader</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Content-Type</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>application/json</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='id identifier rubyid_format_command'>format_command</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span><span class='ivar'>@host</span><span class='comma'>,</span> <span class='ivar'>@port</span><span class='comma'>,</span> <span class='symbol'>:read_timeout</span> <span class='op'>=&gt;</span> <span class='int'>2000000</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_http'>http</span><span class='op'>|</span>
    <span class='id identifier rubyid_http'>http</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span><span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span>

<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start-class_method">
  
    + (<tt>Object</tt>) <strong>start</strong>(debug = false) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Starts the Cumber Server. Needs to be called once at the begging of a
Cucumber run. &lt;br&gt;</p>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='comment'>#Place in your env.rb file.
</span><span class='const'>Cumber</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


117
118
119
120
121
122
123
124
125</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cumber.rb', line 117</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span><span class='id identifier rubyid_debug'>debug</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_stop_server'>stop_server</span>

  <span class='ivar'>@server_process</span> <span class='op'>=</span> <span class='const'>Process</span><span class='period'>.</span><span class='id identifier rubyid_fork'>fork</span> <span class='kw'>do</span>
    <span class='const'>CumberServer</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span><span class='id identifier rubyid_debug'>debug</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start_instruments-class_method">
  
    + (<tt>Object</tt>) <strong>start_instruments</strong>(udid, target) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Starts instruments</p>

<h4>Parameters</h4>
<ul><li>
<p><tt>udid</tt> - The unique identifier of the iOS Device to run tests
against.</p>
</li><li>
<p><tt>target</tt> - The name of the app to launch when cumber starts.</p>
</li></ul>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby">Cumber.start_instruments(Cumber-Test, 23123sasd12321313...)</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


201
202
203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cumber.rb', line 201</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_start_instruments'>start_instruments</span><span class='lparen'>(</span><span class='id identifier rubyid_udid'>udid</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_driver_path'>driver_path</span> <span class='op'>=</span> <span class='id identifier rubyid_path_to_driver'>path_to_driver</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/driver.js</span><span class='tstring_end'>'</span></span>

  <span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>instruments -w </span><span class='tstring_end'>'</span></span><span class='op'>+</span> <span class='id identifier rubyid_udid'>udid</span> <span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> -D ./bin/ins -t /Applications/Xcode.app/Contents/Applications/Instruments.app/Contents/PlugIns/AutomationInstrument.bundle/Contents/Resources/Automation.tracetemplate </span><span class='tstring_end'>'</span></span><span class='op'>+</span> <span class='id identifier rubyid_target'>target</span> <span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> -e UIASCRIPT </span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_driver_path'>driver_path</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stop-class_method">
  
    + (<tt>Object</tt>) <strong>stop</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Stops the Cumber Server and the current instruments run. Needs to be called
at the end of a Cucumber run. &lt;br&gt;</p>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='comment'>#Place in your env.rb file.
</span>
<span class='id identifier rubyid_at_exit'>at_exit</span> <span class='kw'>do</span>
  <span class='const'>Cumber</span><span class='period'>.</span><span class='id identifier rubyid_stop'>stop</span>
<span class='kw'>end</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cumber.rb', line 138</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_stop'>stop</span>
  <span class='id identifier rubyid_stop_instruments'>stop_instruments</span>
  <span class='id identifier rubyid_stop_server'>stop_server</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stop_instruments-class_method">
  
    + (<tt>Object</tt>) <strong>stop_instruments</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Stops instruments before starting a new run. &lt;br&gt;</p>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='const'>Cumber</span><span class='period'>.</span><span class='id identifier rubyid_stop_instruments'>stop_instruments</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


214
215
216
217</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cumber.rb', line 214</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_stop_instruments'>stop_instruments</span>
  <span class='id identifier rubyid_send_command'>send_command</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>end</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>pkill -9 -f instruments</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stop_server-class_method">
  
    + (<tt>Object</tt>) <strong>stop_server</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Stops the Cumber Server &lt;br&gt;</p>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='const'>Cumber</span><span class='period'>.</span><span class='id identifier rubyid_stop_server'>stop_server</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


151
152
153
154
155
156
157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cumber.rb', line 151</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_stop_server'>stop_server</span>
  <span class='id identifier rubyid_server_pid'>server_pid</span> <span class='op'>=</span> <span class='backtick'>%x[</span><span class='tstring_content'>lsof -t -i TCP:8080</span><span class='tstring_end'>]</span></span>
  <span class='id identifier rubyid_pids'>pids</span> <span class='op'>=</span> <span class='id identifier rubyid_server_pid'>server_pid</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_pids'>pids</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pid'>pid</span><span class='op'>|</span>
    <span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>kill -3 </span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_pid'>pid</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="strip_special_chars-class_method">
  
    + (<tt>Object</tt>) <strong>strip_special_chars</strong>(command) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Replaces special characters in the string query with modified HTML codes
for the characters '&amp;', '[', ']', '"', ' ', 'and ''.</p>

<h4>Parameters</h4>
<ul><li>
<p><tt>command</tt> - The string query to send to UI Automation.</p>
</li></ul>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='const'>Cumber</span><span class='period'>.</span><span class='id identifier rubyid_strip_special_chars'>strip_special_chars</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>frontApp.keyboard().typeString(&quot;password&quot;)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; returns 'target.frontMostApp().keyboard().typeString(&amp;34;password&amp;34;)'</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105
106
107
108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cumber.rb', line 103</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_strip_special_chars'>strip_special_chars</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_command'>command</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>'</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\\\'</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_command'>command</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_command'>command</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Mar 20 20:33:50 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.3 (ruby-1.9.3).
</div>

  </body>
</html>